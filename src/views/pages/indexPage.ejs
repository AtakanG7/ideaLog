<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/customcss.css" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hi there! | Read Tech Articles </title>
  </head>

  <body>

      <% if (isAdmin) { %>  
        <%- include('../partials/headers/headerAdmin.ejs') %>
      <% } else if (isAuthenticated) { %>
        <%- include('../partials/headers/headerAuth.ejs') %>
      <% } else { %>
        <%- include('../partials/headers/headerUnAuth.ejs') %>
      <% } %>

      <div class="ui container flex flex-col justify-center items-center pt-3" >
        <div class="w-100 h-32 bg-white rounded-lg overflow-hidden shadow-lg position-relative profile-banner-mobile" style="overflow: visible !important;">
            <img loading="lazy" src="/img/banner.jpeg" alt="Profile Image" class="w-full h-full rounded-lg">
            <img loading="lazy"  class="profile-img-custom" src="/img/avatar.jpeg">
        </div>
        <% if (!user.isSubscribed) { %>
        <div class="ui container flex justify-center before">
        </div>
          <div class="row w-full ">
            <div class="col-12 flex justify-center items-center">
              <img loading="lazy"  src="/img/sub-text.png" style="filter: contrast(100);">
            </div>
          </div>
        <% } else { %>
          <div class="ui container flex justify-center before">
            <h1 class="text-center w-100 text-3xl mt-4 ubuntu-light" style="font-size: 2rem;">Welcome back my friend :)</h1>
          </div>
        <% } %>
      </div>

      <% if (!user.isSubscribed) { %>
        <div class="ui container my-4 py-4">
          <form class="flex justify-center form-custom" action="/users/subscribe/" method="post">
              <div class="ui action input m-0 p-0" style="border: 2px solid #FFD700; border-radius: 5px;">
                <input type="email" placeholder="<%= user.email %>" value="<%= user.email %>" name="email" id="email"  style="width: 17rem;" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
                <button class="ui button yellow text-dark">Subscribe</button>
              </div>
          </form>
        </div>
      <% } %>

      <%- include('../partials/latestBlogs.ejs', {data: data}) %>
      
      <script>
        var data = <%- JSON.stringify(data) %>; 
      </script>
      <script type="text/javascript" src="/js/script.js"></script>
  </body>
</html>
